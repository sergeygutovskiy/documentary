{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u041e\u041f\u0418\u0421\u0410\u041d\u0418\u0415 \u0421\u0418\u0421\u0422\u0415\u041c\u042b C\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u0443, \u043f\u0440\u0435\u0434\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u0443\u044e \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430 \u043b\u0435\u0447\u0435\u0431\u043d\u043e\u0439 \u043a\u043b\u0438\u043d\u0438\u043a\u0438 \u041c\u041e\u0414\u0415\u041b\u042c \u0414\u0410\u041d\u041d\u042b\u0425","title":"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"},{"location":"#_1","text":"C\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u0443, \u043f\u0440\u0435\u0434\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u0443\u044e \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430 \u043b\u0435\u0447\u0435\u0431\u043d\u043e\u0439 \u043a\u043b\u0438\u043d\u0438\u043a\u0438","title":"\u041e\u041f\u0418\u0421\u0410\u041d\u0418\u0415 \u0421\u0418\u0421\u0422\u0415\u041c\u042b"},{"location":"#_2","text":"","title":"\u041c\u041e\u0414\u0415\u041b\u042c \u0414\u0410\u041d\u041d\u042b\u0425"},{"location":"db/","text":"Patients \u041f\u041e\u041b\u0415 \u0422\u0418\u041f \u041f\u0415\u0420\u0412\u0418\u0427\u041d\u042b\u0419 \u041a\u041b\u042e\u0427 \u0412\u041d\u0415\u0428\u041d\u0418\u0419 \u041a\u041b\u042e\u0427 \u0423\u041d\u0418\u041a\u0410\u041b\u042c\u041d\u041e\u0421\u0422\u042c id integer + - + name varchar(64) - - - birth varchar(64) - - - phone varchar(64) - - - \u041a\u043e\u0434 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f: create table patients ( id serial primary key, name varchar(64) not null, phone varchar(64) not null, birth timestamp not null ); \u041a\u043e\u0434 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f: insert into patients (name, birth, phone) values('p1', now(), '+79112811575'); insert into patients (name, birth, phone) values('p2', now(), '+79112811575'); insert into patients (name, birth, phone) values('p3', now(), '+79112811575'); Doctors \u041f\u041e\u041b\u0415 \u0422\u0418\u041f \u041f\u0415\u0420\u0412\u0418\u0427\u041d\u042b\u0419 \u041a\u041b\u042e\u0427 \u0412\u041d\u0415\u0428\u041d\u0418\u0419 \u041a\u041b\u042e\u0427 \u0423\u041d\u0418\u041a\u0410\u041b\u042c\u041d\u041e\u0421\u0422\u042c id integer + - + name varchar(64) - - - birth varchar(64) - - - class varchar(64) - - - price_id integer - + - schedule_id integer - + - \u041a\u043e\u0434 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f: create table doctors ( id serial primary key, name varchar(64) not null, class varchar(64) not null, price_id integer not null, schedule_id integer not null, birth timestamp not null, foreign key (schedule_id) references schedule(id), foreign key (price_id) references prices(id) ); \u041a\u043e\u0434 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f: insert into doctors (name, birth, class, price_id, schedule_id) values ('d1', now(), 'class1', 1, 1); insert into doctors (name, birth, class, price_id, schedule_id) values ('d2', now(), 'class1', 1, 2); insert into doctors (name, birth, class, price_id, schedule_id) values ('d2', now(), 'class3', 2, 3); Prices \u041f\u041e\u041b\u0415 \u0422\u0418\u041f \u041f\u0415\u0420\u0412\u0418\u0427\u041d\u042b\u0419 \u041a\u041b\u042e\u0427 \u0412\u041d\u0415\u0428\u041d\u0418\u0419 \u041a\u041b\u042e\u0427 \u0423\u041d\u0418\u041a\u0410\u041b\u042c\u041d\u041e\u0421\u0422\u042c id integer + - + price money - - - service varchar(64) - - + \u041a\u043e\u0434 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f: create table prices ( id serial primary key, service varchar(64) not null, price money not null ); \u041a\u043e\u0434 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f: insert into prices (service, price) values ('s1', 1000.00); insert into prices (service, price) values ('s2', 2000.00); insert into prices (service, price) values ('s3', 3500.00); Schedule \u041f\u041e\u041b\u0415 \u0422\u0418\u041f \u041f\u0415\u0420\u0412\u0418\u0427\u041d\u042b\u0419 \u041a\u041b\u042e\u0427 \u0412\u041d\u0415\u0428\u041d\u0418\u0419 \u041a\u041b\u042e\u0427 \u0423\u041d\u0418\u041a\u0410\u041b\u042c\u041d\u041e\u0421\u0422\u042c id integer + - + working_days text[] - - - \u041a\u043e\u0434 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f: create table schedule ( id serial primary key, working_days text[] not null ); \u041a\u043e\u0434 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f: insert into schedule (working_days) values ('{mo, tu}'); insert into schedule (working_days) values ('{tu, we}'); insert into schedule (working_days) values ('{we, th}'); Hospitals \u041f\u041e\u041b\u0415 \u0422\u0418\u041f \u041f\u0415\u0420\u0412\u0418\u0427\u041d\u042b\u0419 \u041a\u041b\u042e\u0427 \u0412\u041d\u0415\u0428\u041d\u0418\u0419 \u041a\u041b\u042e\u0427 \u0423\u041d\u0418\u041a\u0410\u041b\u042c\u041d\u041e\u0421\u0422\u042c id integer + - + work_begin time - - - work_end time - - - phone varchar(64) - - - \u041a\u043e\u0434 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f: create table hospitals ( id serial primary key, work_begin time not null, work_end time not null, phone varchar(64) not null ); \u041a\u043e\u0434 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f: insert into hospitals (work_begin, work_end, phone) values ('12:00:00', '20:00:00', '+79112811575'); insert into hospitals (work_begin, work_end, phone) values ('13:00:00', '19:00:00', '+79112811575'); insert into hospitals (work_begin, work_end, phone) values ('09:00:00', '18:00:00', '+79112811575'); Visists \u041f\u041e\u041b\u0415 \u0422\u0418\u041f \u041f\u0415\u0420\u0412\u0418\u0427\u041d\u042b\u0419 \u041a\u041b\u042e\u0427 \u0412\u041d\u0415\u0428\u041d\u0418\u0419 \u041a\u041b\u042e\u0427 \u0423\u041d\u0418\u041a\u0410\u041b\u042c\u041d\u041e\u0421\u0422\u042c id integer + - + doctor_id integer - + - hospital_id integer - + - patient_id integer - + - was_at timestamp - - - price money - - - \u041a\u043e\u0434 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f: create tables visits ( id serial primary key, was_at timestamp not null, price money not null, doctor_id integer not null, hospital_id integer not null, patient_id integer not null, foreign key (doctor_id) references doctors(id), foreign key (hospital_id) references hospitals(id), foreign key (patient_id) references patients(id) ); \u041a\u043e\u0434 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f: insert into visits (was_at, price, patient_id, hospital_id, doctor_id) values (now(), 2000.00, 1, 1, 1); insert into visits (was_at, price, patient_id, hospital_id, doctor_id) values (now(), 4000.00, 2, 1, 2); insert into visits (was_at, price, patient_id, hospital_id, doctor_id) values (now(), 2400.00, 3, 2, 1); Records \u041f\u041e\u041b\u0415 \u0422\u0418\u041f \u041f\u0415\u0420\u0412\u0418\u0427\u041d\u042b\u0419 \u041a\u041b\u042e\u0427 \u0412\u041d\u0415\u0428\u041d\u0418\u0419 \u041a\u041b\u042e\u0427 \u0423\u041d\u0418\u041a\u0410\u041b\u042c\u041d\u041e\u0421\u0422\u042c id integer + - + visit_id integer - + - info varchar(64) - - - result text - - - recomendation text - - - \u041a\u043e\u0434 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f: create table records ( id serial primary key, info varchar(64) not null, result text not null, recomendation text, visit_id integer not null, foreign key(visit_id) references visits(id) ); \u041a\u043e\u0434 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f: insert into records (info, result, recomendation, visit_id) values ('info1', 'res1', 'rec1', 1); insert into records (info, result, recomendation, visit_id) values ('info2', 'res2', 'rec2', 1); insert into records (info, result, recomendation, visit_id) values ('info3', 'res3', 'rec3', 2);","title":"\u0411\u0414"},{"location":"db/#patients","text":"\u041f\u041e\u041b\u0415 \u0422\u0418\u041f \u041f\u0415\u0420\u0412\u0418\u0427\u041d\u042b\u0419 \u041a\u041b\u042e\u0427 \u0412\u041d\u0415\u0428\u041d\u0418\u0419 \u041a\u041b\u042e\u0427 \u0423\u041d\u0418\u041a\u0410\u041b\u042c\u041d\u041e\u0421\u0422\u042c id integer + - + name varchar(64) - - - birth varchar(64) - - - phone varchar(64) - - - \u041a\u043e\u0434 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f: create table patients ( id serial primary key, name varchar(64) not null, phone varchar(64) not null, birth timestamp not null ); \u041a\u043e\u0434 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f: insert into patients (name, birth, phone) values('p1', now(), '+79112811575'); insert into patients (name, birth, phone) values('p2', now(), '+79112811575'); insert into patients (name, birth, phone) values('p3', now(), '+79112811575');","title":"Patients"},{"location":"db/#doctors","text":"\u041f\u041e\u041b\u0415 \u0422\u0418\u041f \u041f\u0415\u0420\u0412\u0418\u0427\u041d\u042b\u0419 \u041a\u041b\u042e\u0427 \u0412\u041d\u0415\u0428\u041d\u0418\u0419 \u041a\u041b\u042e\u0427 \u0423\u041d\u0418\u041a\u0410\u041b\u042c\u041d\u041e\u0421\u0422\u042c id integer + - + name varchar(64) - - - birth varchar(64) - - - class varchar(64) - - - price_id integer - + - schedule_id integer - + - \u041a\u043e\u0434 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f: create table doctors ( id serial primary key, name varchar(64) not null, class varchar(64) not null, price_id integer not null, schedule_id integer not null, birth timestamp not null, foreign key (schedule_id) references schedule(id), foreign key (price_id) references prices(id) ); \u041a\u043e\u0434 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f: insert into doctors (name, birth, class, price_id, schedule_id) values ('d1', now(), 'class1', 1, 1); insert into doctors (name, birth, class, price_id, schedule_id) values ('d2', now(), 'class1', 1, 2); insert into doctors (name, birth, class, price_id, schedule_id) values ('d2', now(), 'class3', 2, 3);","title":"Doctors"},{"location":"db/#prices","text":"\u041f\u041e\u041b\u0415 \u0422\u0418\u041f \u041f\u0415\u0420\u0412\u0418\u0427\u041d\u042b\u0419 \u041a\u041b\u042e\u0427 \u0412\u041d\u0415\u0428\u041d\u0418\u0419 \u041a\u041b\u042e\u0427 \u0423\u041d\u0418\u041a\u0410\u041b\u042c\u041d\u041e\u0421\u0422\u042c id integer + - + price money - - - service varchar(64) - - + \u041a\u043e\u0434 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f: create table prices ( id serial primary key, service varchar(64) not null, price money not null ); \u041a\u043e\u0434 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f: insert into prices (service, price) values ('s1', 1000.00); insert into prices (service, price) values ('s2', 2000.00); insert into prices (service, price) values ('s3', 3500.00);","title":"Prices"},{"location":"db/#schedule","text":"\u041f\u041e\u041b\u0415 \u0422\u0418\u041f \u041f\u0415\u0420\u0412\u0418\u0427\u041d\u042b\u0419 \u041a\u041b\u042e\u0427 \u0412\u041d\u0415\u0428\u041d\u0418\u0419 \u041a\u041b\u042e\u0427 \u0423\u041d\u0418\u041a\u0410\u041b\u042c\u041d\u041e\u0421\u0422\u042c id integer + - + working_days text[] - - - \u041a\u043e\u0434 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f: create table schedule ( id serial primary key, working_days text[] not null ); \u041a\u043e\u0434 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f: insert into schedule (working_days) values ('{mo, tu}'); insert into schedule (working_days) values ('{tu, we}'); insert into schedule (working_days) values ('{we, th}');","title":"Schedule"},{"location":"db/#hospitals","text":"\u041f\u041e\u041b\u0415 \u0422\u0418\u041f \u041f\u0415\u0420\u0412\u0418\u0427\u041d\u042b\u0419 \u041a\u041b\u042e\u0427 \u0412\u041d\u0415\u0428\u041d\u0418\u0419 \u041a\u041b\u042e\u0427 \u0423\u041d\u0418\u041a\u0410\u041b\u042c\u041d\u041e\u0421\u0422\u042c id integer + - + work_begin time - - - work_end time - - - phone varchar(64) - - - \u041a\u043e\u0434 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f: create table hospitals ( id serial primary key, work_begin time not null, work_end time not null, phone varchar(64) not null ); \u041a\u043e\u0434 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f: insert into hospitals (work_begin, work_end, phone) values ('12:00:00', '20:00:00', '+79112811575'); insert into hospitals (work_begin, work_end, phone) values ('13:00:00', '19:00:00', '+79112811575'); insert into hospitals (work_begin, work_end, phone) values ('09:00:00', '18:00:00', '+79112811575');","title":"Hospitals"},{"location":"db/#visists","text":"\u041f\u041e\u041b\u0415 \u0422\u0418\u041f \u041f\u0415\u0420\u0412\u0418\u0427\u041d\u042b\u0419 \u041a\u041b\u042e\u0427 \u0412\u041d\u0415\u0428\u041d\u0418\u0419 \u041a\u041b\u042e\u0427 \u0423\u041d\u0418\u041a\u0410\u041b\u042c\u041d\u041e\u0421\u0422\u042c id integer + - + doctor_id integer - + - hospital_id integer - + - patient_id integer - + - was_at timestamp - - - price money - - - \u041a\u043e\u0434 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f: create tables visits ( id serial primary key, was_at timestamp not null, price money not null, doctor_id integer not null, hospital_id integer not null, patient_id integer not null, foreign key (doctor_id) references doctors(id), foreign key (hospital_id) references hospitals(id), foreign key (patient_id) references patients(id) ); \u041a\u043e\u0434 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f: insert into visits (was_at, price, patient_id, hospital_id, doctor_id) values (now(), 2000.00, 1, 1, 1); insert into visits (was_at, price, patient_id, hospital_id, doctor_id) values (now(), 4000.00, 2, 1, 2); insert into visits (was_at, price, patient_id, hospital_id, doctor_id) values (now(), 2400.00, 3, 2, 1);","title":"Visists"},{"location":"db/#records","text":"\u041f\u041e\u041b\u0415 \u0422\u0418\u041f \u041f\u0415\u0420\u0412\u0418\u0427\u041d\u042b\u0419 \u041a\u041b\u042e\u0427 \u0412\u041d\u0415\u0428\u041d\u0418\u0419 \u041a\u041b\u042e\u0427 \u0423\u041d\u0418\u041a\u0410\u041b\u042c\u041d\u041e\u0421\u0422\u042c id integer + - + visit_id integer - + - info varchar(64) - - - result text - - - recomendation text - - - \u041a\u043e\u0434 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f: create table records ( id serial primary key, info varchar(64) not null, result text not null, recomendation text, visit_id integer not null, foreign key(visit_id) references visits(id) ); \u041a\u043e\u0434 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f: insert into records (info, result, recomendation, visit_id) values ('info1', 'res1', 'rec1', 1); insert into records (info, result, recomendation, visit_id) values ('info2', 'res2', 'rec2', 1); insert into records (info, result, recomendation, visit_id) values ('info3', 'res3', 'rec3', 2);","title":"Records"},{"location":"mongo/","text":"\u0421\u0445\u0435\u043c\u0430 \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 > use hospital > p1 = ({name: \"p1\", birth: new Date()}) > p2 = ({name: \"p2\", birth: new Date()}) > p3 = ({name: \"p3\", birth: new Date()}) > d1 = ({name: \"d1\", birth: new Date(), class: \"class1\"}) > d2 = ({name: \"d2\", birth: new Date(), class: \"class1\"}) > d3 = ({name: \"d3\", birth: new Date(), class: \"class2\"}) > db.patients.save(p1) > db.patients.save(p2) > db.patients.save(p3) > db.doctors.save(d1) > db.doctors.save(d2) > db.doctors.save(d3) > v1 = ({ doctor: new DBRef('doctors', d1._id), patient: new DBRef('patients', p1._id), was_at: new Date() }) > v2 = ({ doctor: new DBRef('doctors', d2._id), patient: new DBRef('patients', p1._id), was_at: new Date() }) > v3 = ({ doctor: new DBRef('doctors', d3._id), patient: new DBRef('patients', p3._id), was_at: new Date() }) > v4 = ({ doctor: new DBRef('doctors', d3._id), patient: new DBRef('patients', p2._id), was_at: new Date() }) > r1 = ({ visit: new DBRef('visits', v1._id), info: \"info1\" }) > r2 = ({ visit: new DBRef('visits', v1._id), info: \"info2\" }) > r3 = ({ visit: new DBRef('visits', v2._id), info: \"info1\" }) > r4 = ({ visit: new DBRef('visits', v3._id), info: \"info1\" }) > db.records.save(r2) > db.records.save(r3) > db.records.save(r4) \u0417\u0430\u043f\u0440\u043e\u0441\u044b db.doctors.aggregate({ $project : { info : { $concat : [ \"$name\", \"-\", \"$class\" ] } } }).pretty() { \"_id\" : ObjectId(\"60d25697ea1bd1c6bc8918e5\"), \"info\" : \"d1-class1\" } { \"_id\" : ObjectId(\"60d25699ea1bd1c6bc8918e6\"), \"info\" : \"d2-class1\" } { \"_id\" : ObjectId(\"60d2569aea1bd1c6bc8918e7\"), \"info\" : \"d3-class2\" } doctor = db.doctors.findOne() { \"_id\" : ObjectId(\"60d25697ea1bd1c6bc8918e5\"), \"name\" : \"d1\", \"birth\" : ISODate(\"2021-06-22T21:29:23.272Z\"), \"class\" : \"class1\" } db.visits.find({ \"doctor.$id\": doctor._id }).pretty() { \"_id\" : ObjectId(\"60d25a2aea1bd1c6bc8918e8\"), \"doctor\" : DBRef(\"doctors\", ObjectId(\"60d25697ea1bd1c6bc8918e5\")), \"patient\" : DBRef(\"patients\", ObjectId(\"60d25688ea1bd1c6bc8918e2\")), \"was_at\" : ISODate(\"2021-06-22T21:42:40.269Z\") } visit = db.visits.findOne() { \"_id\" : ObjectId(\"60d25a2aea1bd1c6bc8918e8\"), \"doctor\" : DBRef(\"doctors\", ObjectId(\"60d25697ea1bd1c6bc8918e5\")), \"patient\" : DBRef(\"patients\", ObjectId(\"60d25688ea1bd1c6bc8918e2\")), \"was_at\" : ISODate(\"2021-06-22T21:42:40.269Z\") } db.records.find({ \"visit.$id\": visit._id }).pretty() { \"_id\" : ObjectId(\"60d25a88ea1bd1c6bc8918ed\"), \"visit\" : DBRef(\"visits\", ObjectId(\"60d25a2aea1bd1c6bc8918e8\")), \"info\" : \"info2\" } db.records.find({}, { id: true, info: true }).pretty() { \"_id\" : ObjectId(\"60d25a53ea1bd1c6bc8918ec\"), \"info\" : \"info1\" } { \"_id\" : ObjectId(\"60d25a88ea1bd1c6bc8918ed\"), \"info\" : \"info2\" } { \"_id\" : ObjectId(\"60d25a89ea1bd1c6bc8918ee\"), \"info\" : \"info1\" } { \"_id\" : ObjectId(\"60d25a8aea1bd1c6bc8918ef\"), \"info\" : \"info2\" }","title":"MongoDB"},{"location":"mongo/#_1","text":"","title":"\u0421\u0445\u0435\u043c\u0430"},{"location":"mongo/#_2","text":"> use hospital > p1 = ({name: \"p1\", birth: new Date()}) > p2 = ({name: \"p2\", birth: new Date()}) > p3 = ({name: \"p3\", birth: new Date()}) > d1 = ({name: \"d1\", birth: new Date(), class: \"class1\"}) > d2 = ({name: \"d2\", birth: new Date(), class: \"class1\"}) > d3 = ({name: \"d3\", birth: new Date(), class: \"class2\"}) > db.patients.save(p1) > db.patients.save(p2) > db.patients.save(p3) > db.doctors.save(d1) > db.doctors.save(d2) > db.doctors.save(d3) > v1 = ({ doctor: new DBRef('doctors', d1._id), patient: new DBRef('patients', p1._id), was_at: new Date() }) > v2 = ({ doctor: new DBRef('doctors', d2._id), patient: new DBRef('patients', p1._id), was_at: new Date() }) > v3 = ({ doctor: new DBRef('doctors', d3._id), patient: new DBRef('patients', p3._id), was_at: new Date() }) > v4 = ({ doctor: new DBRef('doctors', d3._id), patient: new DBRef('patients', p2._id), was_at: new Date() }) > r1 = ({ visit: new DBRef('visits', v1._id), info: \"info1\" }) > r2 = ({ visit: new DBRef('visits', v1._id), info: \"info2\" }) > r3 = ({ visit: new DBRef('visits', v2._id), info: \"info1\" }) > r4 = ({ visit: new DBRef('visits', v3._id), info: \"info1\" }) > db.records.save(r2) > db.records.save(r3) > db.records.save(r4)","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435"},{"location":"mongo/#_3","text":"db.doctors.aggregate({ $project : { info : { $concat : [ \"$name\", \"-\", \"$class\" ] } } }).pretty() { \"_id\" : ObjectId(\"60d25697ea1bd1c6bc8918e5\"), \"info\" : \"d1-class1\" } { \"_id\" : ObjectId(\"60d25699ea1bd1c6bc8918e6\"), \"info\" : \"d2-class1\" } { \"_id\" : ObjectId(\"60d2569aea1bd1c6bc8918e7\"), \"info\" : \"d3-class2\" } doctor = db.doctors.findOne() { \"_id\" : ObjectId(\"60d25697ea1bd1c6bc8918e5\"), \"name\" : \"d1\", \"birth\" : ISODate(\"2021-06-22T21:29:23.272Z\"), \"class\" : \"class1\" } db.visits.find({ \"doctor.$id\": doctor._id }).pretty() { \"_id\" : ObjectId(\"60d25a2aea1bd1c6bc8918e8\"), \"doctor\" : DBRef(\"doctors\", ObjectId(\"60d25697ea1bd1c6bc8918e5\")), \"patient\" : DBRef(\"patients\", ObjectId(\"60d25688ea1bd1c6bc8918e2\")), \"was_at\" : ISODate(\"2021-06-22T21:42:40.269Z\") } visit = db.visits.findOne() { \"_id\" : ObjectId(\"60d25a2aea1bd1c6bc8918e8\"), \"doctor\" : DBRef(\"doctors\", ObjectId(\"60d25697ea1bd1c6bc8918e5\")), \"patient\" : DBRef(\"patients\", ObjectId(\"60d25688ea1bd1c6bc8918e2\")), \"was_at\" : ISODate(\"2021-06-22T21:42:40.269Z\") } db.records.find({ \"visit.$id\": visit._id }).pretty() { \"_id\" : ObjectId(\"60d25a88ea1bd1c6bc8918ed\"), \"visit\" : DBRef(\"visits\", ObjectId(\"60d25a2aea1bd1c6bc8918e8\")), \"info\" : \"info2\" } db.records.find({}, { id: true, info: true }).pretty() { \"_id\" : ObjectId(\"60d25a53ea1bd1c6bc8918ec\"), \"info\" : \"info1\" } { \"_id\" : ObjectId(\"60d25a88ea1bd1c6bc8918ed\"), \"info\" : \"info2\" } { \"_id\" : ObjectId(\"60d25a89ea1bd1c6bc8918ee\"), \"info\" : \"info1\" } { \"_id\" : ObjectId(\"60d25a8aea1bd1c6bc8918ef\"), \"info\" : \"info2\" }","title":"\u0417\u0430\u043f\u0440\u043e\u0441\u044b"},{"location":"php/","text":"\u0417\u0430\u043f\u0440\u043e\u0441\u044b select * from doctors select * from patients select * from visits select doctors.name, patients.name, visits.was_at from visits inner join doctors on (visits.doctor_id = doctors.id) inner join patients on (visits.patient_id = patients.id) \u0421\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043f\u043e\u0441\u0435\u0449\u0435\u043d\u0438\u0439 \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043d\u0430 \u0434\u043e\u043a\u0442\u043e\u0440\u043e\u0432 \u0424\u043e\u0440\u043c\u044b \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f, \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 doctors","title":"PHP"},{"location":"php/#_1","text":"select * from doctors select * from patients select * from visits select doctors.name, patients.name, visits.was_at from visits inner join doctors on (visits.doctor_id = doctors.id) inner join patients on (visits.patient_id = patients.id)","title":"\u0417\u0430\u043f\u0440\u043e\u0441\u044b"},{"location":"php/#_2","text":"","title":"\u0421\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b"},{"location":"php/#_3","text":"","title":"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043f\u043e\u0441\u0435\u0449\u0435\u043d\u0438\u0439"},{"location":"php/#_4","text":"","title":"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432"},{"location":"php/#_5","text":"","title":"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043d\u0430 \u0434\u043e\u043a\u0442\u043e\u0440\u043e\u0432"},{"location":"php/#doctors","text":"","title":"\u0424\u043e\u0440\u043c\u044b \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f, \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 doctors"},{"location":"requests/","text":"1 \u0437\u0430\u043f\u0440\u043e\u0441 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432\u0440\u0430\u0447\u0435\u0439 \u0441 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439 \u043e\u0431 \u0438\u0445 \u0440\u0430\u0431\u043e\u0447\u0438\u0445 \u0434\u043d\u044f\u0445 SQL \u043a\u043e\u0434 select name, class, working_days from doctors inner join schedule on doctors.schedule_id = schedule.id order by name desc 2 \u0437\u0430\u043f\u0440\u043e\u0441 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043f\u0440\u0438\u0451\u043c\u0430\u0445 \u0441 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u043c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u0430\u0445 SQL \u043a\u043e\u0434 select * from visits inner join patients on visits.patient_id = patients.id order by was_at 3 \u0437\u0430\u043f\u0440\u043e\u0441 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u0437\u0430\u043f\u0438\u0441\u044f\u0445 \u0432 \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u0443\u044e \u043a\u0430\u0440\u0442\u0443 \u0437\u0430 \u043f\u0440\u0438\u0451\u043c(\u044b) 2020-01-02 SQL \u043a\u043e\u0434 select * from records where id = ( select id from visits where was_at = '2020-01-02' ) 4 \u0437\u0430\u043f\u0440\u043e\u0441 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043f\u0440\u0438\u0451\u043c\u0430\u0445, \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0432\u0448\u0438\u0445\u0441\u044f \u0432 1-\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435 SQL \u043a\u043e\u0434 select * from visits where hospital_id = 1 5 \u0437\u0430\u043f\u0440\u043e\u0441 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0432\u043e\u0437\u0440\u0430\u0441\u0442 \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u043e\u0432 \u043a\u043b\u0438\u043d\u0438\u043a\u0438 SQL \u043a\u043e\u0434 select name, age(birth) as age from patients 6 \u0437\u0430\u043f\u0440\u043e\u0441 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043f\u0440\u0438\u0451\u043c\u0430\u0445 \u0432 \u043f\u0435\u0440\u0438\u043e\u0434 \u0441 2020-01-05 \u043f\u043e 2020-01-11 SQL \u043a\u043e\u0434 select * from visits where was_at between '2020-01-05' and '2020-01-11' 7 \u0437\u0430\u043f\u0440\u043e\u0441 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0434\u043b\u0438\u043d\u0443 \u0438\u043c\u0451\u043d \u0432\u0440\u0430\u0447\u0435\u0439 SQL \u043a\u043e\u0434 select length(name) from doctors 8 \u0437\u0430\u043f\u0440\u043e\u0441 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0438\u043c\u0435\u043d\u0430 \u0432\u0440\u0430\u0447\u0435\u0439 \u0432\u0435\u0440\u0445\u043d\u0438\u043c \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u043e\u043c SQL \u043a\u043e\u0434 select upper(name) from doctors 9 \u0437\u0430\u043f\u0440\u043e\u0441 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0438\u043c\u0435\u043d\u0430 \u0434\u043e\u043a\u0442\u043e\u0440\u0430 \u0438 \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043a \u043d\u0435\u043c\u0443 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u043b, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0434\u0430\u0442\u0443 \u043f\u0440\u0438\u0451\u043c\u0430 SQL \u043a\u043e\u0434 select doctors.name, patients.name, visits.was_at from visits inner join doctors on (visits.doctor_id = doctors.id) inner join patients on (visits.patient_id = patients.id) 10 \u0437\u0430\u043f\u0440\u043e\u0441 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u0434\u043e\u043a\u0442\u043e\u0440\u0430\u0445 \u0441 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u043c \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u043e\u0432, \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0432\u0448\u0438\u0445 \u043a \u043d\u0438\u043c \u043d\u0430 \u043f\u0440\u0438\u0451\u043c SQL \u043a\u043e\u0434 select doctors.id, doctors.name, count(*) from visits inner join doctors on (visits.doctor_id = doctors.id) inner join patients on (visits.patient_id = patients.id) group by doctors.id 11 \u0437\u0430\u043f\u0440\u043e\u0441 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u0437\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0445 \u0434\u0435\u043d\u044c\u0433\u0430\u0445 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0432\u0440\u0430\u0447\u0430 \u043e\u0442 \u043f\u0440\u043e\u0432\u0435\u0434\u0451\u043d\u043d\u044b\u0445 \u0443\u0441\u043b\u0443\u0433 SQL \u043a\u043e\u0434 select visits.doctor_id, sum(visits.price) as sum from visits inner join doctors on (visits.doctor_id = doctors.id) group by visits.doctor_id 12 \u0437\u0430\u043f\u0440\u043e\u0441 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0434\u0430\u0442\u0443(\u044b) \u043f\u0440\u0438\u0451\u043c\u043e\u0432, \u0432 \u043a\u043e\u0442\u043e\u0440\u0443\u044e(\u044b\u0435) \u0431\u044b\u043b\u043e \u043e\u0442 2-\u0445 \u0434\u043e 3-\u0445 \u043f\u0440\u0438\u0451\u043c\u043e\u0432 \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u043e\u0432 SQL \u043a\u043e\u0434 select was_at, count(*) from visits group by date(was_at) having count(*) in (2,3)","title":"\u0417\u0430\u043f\u0440\u043e\u0441\u044b"},{"location":"requests/#1","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432\u0440\u0430\u0447\u0435\u0439 \u0441 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439 \u043e\u0431 \u0438\u0445 \u0440\u0430\u0431\u043e\u0447\u0438\u0445 \u0434\u043d\u044f\u0445 SQL \u043a\u043e\u0434 select name, class, working_days from doctors inner join schedule on doctors.schedule_id = schedule.id order by name desc","title":"1 \u0437\u0430\u043f\u0440\u043e\u0441"},{"location":"requests/#2","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043f\u0440\u0438\u0451\u043c\u0430\u0445 \u0441 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u043c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u0430\u0445 SQL \u043a\u043e\u0434 select * from visits inner join patients on visits.patient_id = patients.id order by was_at","title":"2 \u0437\u0430\u043f\u0440\u043e\u0441"},{"location":"requests/#3","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u0437\u0430\u043f\u0438\u0441\u044f\u0445 \u0432 \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u0443\u044e \u043a\u0430\u0440\u0442\u0443 \u0437\u0430 \u043f\u0440\u0438\u0451\u043c(\u044b) 2020-01-02 SQL \u043a\u043e\u0434 select * from records where id = ( select id from visits where was_at = '2020-01-02' )","title":"3 \u0437\u0430\u043f\u0440\u043e\u0441"},{"location":"requests/#4","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043f\u0440\u0438\u0451\u043c\u0430\u0445, \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0432\u0448\u0438\u0445\u0441\u044f \u0432 1-\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435 SQL \u043a\u043e\u0434 select * from visits where hospital_id = 1","title":"4 \u0437\u0430\u043f\u0440\u043e\u0441"},{"location":"requests/#5","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0432\u043e\u0437\u0440\u0430\u0441\u0442 \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u043e\u0432 \u043a\u043b\u0438\u043d\u0438\u043a\u0438 SQL \u043a\u043e\u0434 select name, age(birth) as age from patients","title":"5 \u0437\u0430\u043f\u0440\u043e\u0441"},{"location":"requests/#6","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043f\u0440\u0438\u0451\u043c\u0430\u0445 \u0432 \u043f\u0435\u0440\u0438\u043e\u0434 \u0441 2020-01-05 \u043f\u043e 2020-01-11 SQL \u043a\u043e\u0434 select * from visits where was_at between '2020-01-05' and '2020-01-11'","title":"6 \u0437\u0430\u043f\u0440\u043e\u0441"},{"location":"requests/#7","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0434\u043b\u0438\u043d\u0443 \u0438\u043c\u0451\u043d \u0432\u0440\u0430\u0447\u0435\u0439 SQL \u043a\u043e\u0434 select length(name) from doctors","title":"7 \u0437\u0430\u043f\u0440\u043e\u0441"},{"location":"requests/#8","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0438\u043c\u0435\u043d\u0430 \u0432\u0440\u0430\u0447\u0435\u0439 \u0432\u0435\u0440\u0445\u043d\u0438\u043c \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u043e\u043c SQL \u043a\u043e\u0434 select upper(name) from doctors","title":"8 \u0437\u0430\u043f\u0440\u043e\u0441"},{"location":"requests/#9","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0438\u043c\u0435\u043d\u0430 \u0434\u043e\u043a\u0442\u043e\u0440\u0430 \u0438 \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043a \u043d\u0435\u043c\u0443 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u043b, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0434\u0430\u0442\u0443 \u043f\u0440\u0438\u0451\u043c\u0430 SQL \u043a\u043e\u0434 select doctors.name, patients.name, visits.was_at from visits inner join doctors on (visits.doctor_id = doctors.id) inner join patients on (visits.patient_id = patients.id)","title":"9 \u0437\u0430\u043f\u0440\u043e\u0441"},{"location":"requests/#10","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u0434\u043e\u043a\u0442\u043e\u0440\u0430\u0445 \u0441 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u043c \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u043e\u0432, \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0432\u0448\u0438\u0445 \u043a \u043d\u0438\u043c \u043d\u0430 \u043f\u0440\u0438\u0451\u043c SQL \u043a\u043e\u0434 select doctors.id, doctors.name, count(*) from visits inner join doctors on (visits.doctor_id = doctors.id) inner join patients on (visits.patient_id = patients.id) group by doctors.id","title":"10 \u0437\u0430\u043f\u0440\u043e\u0441"},{"location":"requests/#11","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u0437\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0445 \u0434\u0435\u043d\u044c\u0433\u0430\u0445 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0432\u0440\u0430\u0447\u0430 \u043e\u0442 \u043f\u0440\u043e\u0432\u0435\u0434\u0451\u043d\u043d\u044b\u0445 \u0443\u0441\u043b\u0443\u0433 SQL \u043a\u043e\u0434 select visits.doctor_id, sum(visits.price) as sum from visits inner join doctors on (visits.doctor_id = doctors.id) group by visits.doctor_id","title":"11 \u0437\u0430\u043f\u0440\u043e\u0441"},{"location":"requests/#12","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0434\u0430\u0442\u0443(\u044b) \u043f\u0440\u0438\u0451\u043c\u043e\u0432, \u0432 \u043a\u043e\u0442\u043e\u0440\u0443\u044e(\u044b\u0435) \u0431\u044b\u043b\u043e \u043e\u0442 2-\u0445 \u0434\u043e 3-\u0445 \u043f\u0440\u0438\u0451\u043c\u043e\u0432 \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u043e\u0432 SQL \u043a\u043e\u0434 select was_at, count(*) from visits group by date(was_at) having count(*) in (2,3)","title":"12 \u0437\u0430\u043f\u0440\u043e\u0441"}]}